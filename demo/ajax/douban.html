<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title></title>
<style>
	#q{ width: 300px; height: 30px; padding:5px; border: 1px solid #f90; font-size: 16px; }
	dd{ padding: 0; margin: 0; border-bottom: 1px dashed #000; }
	dt{ font-weight: bold; }
</style>
<script>
function fn1(data){
	console.log(data);
	var oMsg = document.getElementById('msg');
	var oList = document.getElementById('list');
	oMsg.innerHTML ='您搜索了'+ data.total +'条';
	var html = '';
	for(var i=0; i<data.books.length; i++){
		html +='<dt>'+ data.books[i].title +'</dt><dd><img src="'+ data.books[i].image+'" alt="'+ data.books[i].title +'"></dd>'
	}
	oList.innerHTML = html;
}
window.onload = function(){
	var oQ = document.getElementById('q');
	var oBtn = document.getElementById('btn');
	var oMsg = document.getElementById('msg');
	var oList = document.getElementById('list');

	oBtn.onclick = function(){
		if(oQ.value != ''){
			var oScript = document.createElement('script');
			oScript.src = 'https://api.douban.com/v2/book/search?q='+ oQ.value +'&xd=json&callback=fn1';
			document.body.appendChild(oScript);
		}
	}
}
</script>
</head>
<body>
	<input type="text" id="q">
	<input type="button" id="btn" value="搜索">
	<p id="msg"></p>
	<hr>
	<dl id="list">
		
	</dl>
</body>
</html>